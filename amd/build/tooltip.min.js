/**
 * Handles overlays/tooltips in report tables!
 *
 * @author    Philipp Hager
 * @copyright 2014 Academic Moodle Cooperation {@link http://www.academic-moodle-cooperation.org}
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_checkmarkreport/tooltip",["core/popper","core/log"],(function(Popper,log){function _showTooltip(e){if("tooltip"!==e.target.getAttribute("data-toggle"))var triggerEl=e.target.closest("[data-toggle=tooltip]");else triggerEl=e.target;var tooltipEl,tooltipid="tooltip_"+triggerEl.getAttribute("id");null===(tooltipEl=document.getElementById(tooltipid))?((tooltipEl=document.createElement("div")).id=tooltipid,tooltipEl.classList.add("popover"),tooltipEl.classList.add("bs-popover-auto"),tooltipEl.setAttribute("role","tooltip"),triggerEl.setAttribute("aria-describedby",tooltipEl.id),tooltipEl.innerHTML='<div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body">'+triggerEl.getAttribute("data-content")+"</div>",tooltipEl.style.opacity="0",tooltipEl.setAttribute("aria-hidden","true"),document.body.appendChild(tooltipEl)):tooltipEl.style.display="block";new Popper(triggerEl,tooltipEl,{modifiers:{placement:"right"}}),tooltipEl.style.opacity="1",tooltipEl.setAttribute("aria-hidden","false")}function _hideTooltip(e){if("tooltip"!==e.target.getAttribute("data-toggle"))var tooltipId="tooltip_"+e.target.closest("[data-toggle=tooltip]").getAttribute("id");else tooltipId="tooltip_"+e.target.id;var toolTipEl=document.getElementById(tooltipId);null===toolTipEl?log.info("Tooltip element not found!","local_checkmarkreport"):(toolTipEl.style.opacity="0",window.setTimeout(function(toolTipEl){return function(){toolTipEl.style.display="none",toolTipEl.setAttribute("aria-hidden","true")}}(toolTipEl),200))}function _handleFocus(e){_showTooltip(e)}function _handleKeyDown(e){"Escape"===e.key&&_hideTooltip(e)}function _handleMouseOver(e){_showTooltip(e)}function _handleMouseOut(e){void 0!==e.relatedTarget&&null!==e.relatedTarget&&e.relatedTarget.classList.contains("content")||_hideTooltip(e)}function _handleBlur(e){_hideTooltip(e)}return{initializer:function(){log.info("Register tooltips!","local_checkmarkreport");for(var tts=document.querySelectorAll('#checkmarkreporttable [data-toggle="tooltip"]'),i=0;i<tts.length;i++)tts[i].addEventListener("focus",_handleFocus.bind(this)),tts[i].addEventListener("click",_handleFocus.bind(this)),tts[i].addEventListener("mouseover",_handleMouseOver.bind(this)),tts[i].addEventListener("mouseout",_handleMouseOut.bind(this)),tts[i].addEventListener("blur",_handleBlur.bind(this)),tts[i].addEventListener("keydown",_handleKeyDown.bind(this))}}}));

//# sourceMappingURL=tooltip.min.js.map